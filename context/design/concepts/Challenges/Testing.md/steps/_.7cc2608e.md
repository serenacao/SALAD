---
timestamp: 'Sat Nov 22 2025 16:52:24 GMT-0500 (Eastern Standard Time)'
parent: '[[../20251122_165224.b6784c37.md]]'
content_id: 7cc2608ebcfe2a488ad0254a991cf520b7de34a59ac82b394bd28dc354061b78
---

# Test implementation

While testing, use the `testDb` function, which returns a tuple of the database and client so that you can close it.

```typescript
import { testDb } from "@utils/database.ts";

Deno.test("...", async () => {
  const [db, client] = await testDb();

  // ... tests

  // example test
   await t.step("[Action]: [Example action description]", async () => {
    // test content
  });

  await client.close();
});
```

The database is already automatically dropped before every test file using the `Deno.test.beforeAll` hook: do not include any additional manipulation of the database for this purpose.

Use the Deno.test framework, splitting by appropriate test steps and describing each behavior. Import helpers from:

```typescript
import { assertEquals } from "jsr:@std/assert"; // or any other utility from the library
```
